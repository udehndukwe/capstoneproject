
gapi.load('client', initClient);

function initClient() {
  // Initialize the Google API client with your API key
  gapi.client.init({
    apiKey: 'YOUR_API_KEY',
    discoveryDocs: ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],
}).then(function() {
    // Use the Calendar API to get calendar data
    gapi.client.calendar.events.list({
      'calendarId': 'primary',
      'timeMin': (new Date()).toISOString(),
      'showDeleted': false,
      'singleEvents': true,
      'maxResults': 10,
      'orderBy': 'startTime'
    }).then(function(response) {
      console.log(response.result);
    });
  });
}
